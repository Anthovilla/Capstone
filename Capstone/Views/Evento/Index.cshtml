@model IEnumerable<Capstone.Models.DbModels.Evento>

@{
    ViewBag.Title = "Index";
}


<div class="ContainerNomeDettaglio">
    <h1 class="d-flex my-2 my-lg-0 justify-content-center NomeDettaglio">Eventi</h1>
</div>

    @if (User.IsInRole("Admin"))
    {


        <div class="creaEvento">
            <h5>@Html.ActionLink("Crea un Evento", "CreaEvento", new { area = "", id = ViewBag.Id }, new { @class = "text-reset text-decoration-none" })</h5>
        </div>
    }

<div class="row row-cols-2 row-cols-md-4 justify-content-evenly">
    @foreach (var item in Model)
    {

        <div class="p-2 px-3">
            <div id="cardEvent" class="card">
                <img src="~/Content/Imgs/@item.Foto" alt="photo" id="imgHeight" class="card-img-top w-100" style=" height: 18rem; object-fit: cover;" />
                <div class="card-body">
                    <div class="TitoloCard">@Html.DisplayFor(modelItem => item.Nome)</div>

                </div>
                <div class="textEvent">
                    <div class="categoriaCard">@Html.DisplayFor(modelItem => item.Categoria.Nome)</div>
                    <div class="dataCommt">@Html.DisplayFor(modelItem => item.Data)</div>
                </div>

                <div class="BtnDettaglio">
                    @Html.ActionLink("Dettaglio", "DettaglioEvento", new { id = item.Id }, new { @class = "btn btn-secondary m-auto" })
                </div>


                @if (User.IsInRole("Admin"))
                {
                    <div class="d-flex justify-content-around my-2">

                        <a href="@Url.Action("ModificaEvento", new { id = item.Id })"><i class="bi bi-pencil-square"></i></a>

                        <a href="@Url.Action("EliminaEvento", new { id = item.Id })"><i class="bi bi-trash3"></i></a>

                    </div>
                }
            </div>
        </div>

    }
</div>

