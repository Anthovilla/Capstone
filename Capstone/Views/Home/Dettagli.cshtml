@model Capstone.Models.DbModels.Evento
@{
    ViewBag.Title = "Dettagli";
}

<h2>Dettagli</h2>



<h1 class="m-3">
    <i class="" aria-hidden="true"></i>
    @Model.Nome
</h1>

<div class="p-3 px-5 table-container">
    <div class="row align-items-center rounded" style="background-color: rgb(255, 255, 255, 0.92); ">
        <div class="col-12 col-md-4">
            <img src="~/Content/Imgs/@Model.Foto" class="w-100" />
        </div>

        <div class="col-12 col-md-8 ml-5 fs-5">

            <div class="row row-cols-1 row-cols-2 mx-4 mb-4">

                <div>
                    <div class="fw-bold">
                        Categoria
                    </div>
                    <div>
                       <p id="Categoria" >@Model.Categoria.Nome</p>
                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        Nome
                    </div>
                    <div>
                        <p id="Nome">@Model.Nome</p>
                    </div>
                </div>


                <div>
                    <div class="fw-bold">
                        Data
                    </div>
                    <div>
                        <p id="Data">@Model.Data</p>
                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        Location
                    </div>
                    <div>
                        <p id="Location">@Model.Location</p>
                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        Descrizione
                    </div>
                    <div>
                        <p id="Descrizione">@Model.Description</p>
                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        Costo
                    </div>
                    <div>
                        <p id="Costo">@Model.Costo</p>

                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        @Html.DisplayNameFor(model => model.MaxParticipanti)
                    </div>
                    <div>
                        <p id="MaxParticipanti">@Model.MaxParticipanti</p>

                    </div>
                </div>

                <div>
                    <div class="fw-bold">
                        @Html.DisplayNameFor(model => model.Disponibile)
                    </div>
                    <div>
                        <p id="Disponibile">@Model.Disponibile</p>
                    </div>
                </div>

            </div>

            <button id="aggCarrello"  class="btn btn-outline-primary">Prenota</button>

        </div>
    </div>
</div>

@section scripts {

    <script type="text/javascript">

        

        $("#PrenotazioneBt").click(function () {
            $(".Animation1").slideToggle();
        })

        $("#CommentiBt").click(function () {
            $(".Animation2").slideToggle();
        })


        $("#RecensioneBt").click(function () {
            $(".Animation3").slideToggle();
        })


        $(document).ready(function () {
            $("#aggCarrello").click(function () {

                let nome = $("#Nome").text();
                let costo = $("#Costo").text();

                let carrello = JSON.parse(sessionStorage.getItem("Carrello")) || []

                let prodotto = {
                    nomeProdotto: nome,
                    costoProdotto: costo
                }

                carrello.push(prodotto)
                sessionStorage.setItem("Carrello", JSON.stringify(carrello));

                window.location.href = '../Carrello';

                console.log(JSON.parse(sessionStorage.getItem("Carrello")))
            })



        })

       

    </script>
}
